function Addadmin(a)local b=false;local c=a;unloaded=false;function FindPlayer(d)if not d then return end;local e={}for f,g in ipairs(game.Players:GetPlayers())do if string.lower(g.Name):match(string.lower(d))or string.lower(g.DisplayName):match(string.lower(d))then table.insert(e,g.Name)end end;if#e>0 then return e[1]elseif#e<1 then return nil end end;local h=FindPlayer(c)local i=game.Players[h]function bring(j,k,l)local m=k;if k==nil then m=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame end;local n=0;local o=game:GetService("Workspace")["Prison_ITEMS"].single["Crude Knife"].ITEMPICKUP;local p=game:GetService("Workspace").Remote.ItemHandler;p:InvokeServer(o)repeat wait()until game.Players.LocalPlayer.Backpack:FindFirstChild("Crude Knife")local q=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;local j=game.Players[j]game.Players.LocalPlayer.Character.Humanoid.Name=1;local r=game.Players.LocalPlayer.Character["1"]:Clone()r.Parent=game.Players.LocalPlayer.Character;r.Name="Humanoid"wait(.2)game.Players.LocalPlayer.Character["1"]:Destroy()workspace.CurrentCamera.CameraSubject=game.Players.LocalPlayer.Character;game.Players.LocalPlayer.Character.Humanoid.DisplayDistanceType="None"game.Players.LocalPlayer.Character.Humanoid:UnequipTools()local g=game.Players.LocalPlayer.Backpack:FindFirstChildOfClass("Tool")if l=="keycard"then g=game.Players.LocalPlayer.Backpack:FindFirstChild("Key card")end;repeat game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=m;n=n+1 until n>5;wait()g.Parent=game.Players.LocalPlayer.Character;g.Parent=game.Players.LocalPlayer.Character.HumanoidRootPart;firetouchinterest(j.Character.HumanoidRootPart,g.Handle,0)firetouchinterest(j.Character.HumanoidRootPart,g.Handle,1)wait(.33)game.Players.LocalPlayer.Character:Remove()wait(.42)workspace.Remote.loadchar:InvokeServer()pcall(function()game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=q end)game.Players.LocalPlayer.CharacterAdded:Wait()end;function crim()if game.Players.LocalPlayer.Team~=game.Teams.Criminals then if not firetouchinterest then local s=CFrame.new(-920.51080322266,92.227195739746,2138.2700195313)local t=game.Players.LocalPlayer.Character;local u=t["HumanoidRootPart"].CFrame;t["HumanoidRootPart"].CFrame=s;local v=0;repeat wait()v=v+1 until v>49 or h.Team==game.Teams.Criminals;wait()t["HumanoidRootPart"].CFrame=u else if game:GetService("Workspace")["Criminals Spawn"]:FindFirstChild("SpawnLocation")then firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)else if game.Lighting:FindFirstChild("SpawnLocation")then for w,g in pairs(game.Lighting:GetChildren())do if g.Name=="SpawnLocation"then g.Parent=game:GetService("Workspace")["Criminals Spawn"]wait(.01)firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)wait(.1)g.Parent=game.Lighting;break end end end end end end end;local function x()local y=game.Players.LocalPlayer.Team;if y==game.Teams.Criminals then return"crim"end;if y==game.Teams.Guards then return"Bright blue"end;if y==game.Teams.Inmates then return"Bright orange"end;if y==game.Teams.Neutral then return"Medium stone grey"end;return"Custom"end;function kill(j,z)local t=game.Players.LocalPlayer.Character;if not game.Players:FindFirstChild(j)then return end;local A=x()if t:FindFirstChild("M9")then t:WaitForChild("Humanoid"):UnequipTools()end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local B={{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[j].Character:WaitForChild("Head")}}local C=nil;local D=0;if z==nil then if game.Players[j].Team==game.Teams.Neutral then if game.Players.LocalPlayer.Team~=game.Teams.Inmates then workspace.Remote.TeamEvent:FireServer("Bright orange")end;C="Inmates"else if game.Players.LocalPlayer.Team~=game.Teams.Neutral then workspace.Remote.TeamEvent:FireServer("Medium stone grey")end;C="Neutral"end end;if z~="killall"then repeat wait()D=D+1 until game.Players.LocalPlayer.Team==game.Teams[C]or D>49 end;local E=game.Players.LocalPlayer.Backpack:WaitForChild("M9")game:GetService("ReplicatedStorage").ShootEvent:FireServer(B,E)if z~=nil then else if z=="destroy"then E.Parent=game.Players.LocalPlayer.Character;wait()game.Players.LocalPlayer.Character["Remington 870"]:Destroy()end;if A=="crim"then crim()elseif A~="Custom"then workspace.Remote.TeamEvent:FireServer(A)end end end;local s=CFrame.new(-920.51080322266,92.227195739746,2138.2700195313)function makecrim(c,l)pcall(function()if l==nil then if game.Players[c].Character:FindFirstChild("Humanoid")then local q=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;if game.Players[c].Character.Humanoid.Sit==false and game.Players[c].Character.Humanoid.Health>2 then bring(c,s+Vector3.new(0,2,0))repeat wait()until game.Players[c].Team==game.Teams.Criminals;wait()kill(c)end end end end)end;function Chat(F)local G="/w "..h.." Admin: "..F;local H="All"local I=game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest;I:FireServer(G,H)end;function NormalRe()pcall(function()wait()local G="LocalPlayer"local I=game:GetService("Workspace").Remote.loadchar;I:InvokeServer(G)end)end;function CustomTeam(J)local K=workspace.CurrentCamera.CFrame;local L=game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame;local M=game.Players.LocalPlayer or"LocalPlayer"local N=J;local O=workspace.Remote.loadchar;wait()O:InvokeServer(M,N)wait(.01)game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame=L;workspace.CurrentCamera.CFrame=K end;WhiteListedPlayers={h}function killall()pcall(function()local A=x()wait(.1)if game.Players.LocalPlayer.TeamColor.Name~="Pastel green"then CustomTeam("Pastel green")end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local P={}for w,Q in pairs(game:GetService("Players"):GetPlayers())do if Q~=game:GetService("Players").LocalPlayer then local R=table.find(WhiteListedPlayers,Q.Name)if R==nil then for f=1,15 do P[#P+1]={Hit=Q.Character:FindFirstChild("Head")or Q.Character:FindFirstChildOfClass("Part"),RayObject=Ray.new(Vector3.new(),Vector3.new()),Distance=0,Cframe=CFrame.new()}end end end end;game:GetService("Workspace").Remote.ItemHandler:InvokeServer(game:GetService("Workspace").Prison_ITEMS.giver["Remington 870"].ITEMPICKUP)local S=game:GetService("Players").LocalPlayer.Character:FindFirstChild("Remington 870")or game:GetService("Players").LocalPlayer:FindFirstChild("Backpack"):FindFirstChild("Remington 870")coroutine.wrap(function()for f=1,30 do game:GetService("ReplicatedStorage").ReloadEvent:FireServer(S)wait(.5)end end)()game:GetService("Workspace").Remote.TeamEvent:FireServer("Medium stone grey")game:GetService("ReplicatedStorage").ShootEvent:FireServer(P,S)wait(.1)if A=="crim"then crim()elseif A~="Custom"then workspace.Remote.TeamEvent:FireServer(A)end end)end;function killcops()pcall(function()local A=x()wait(.1)if game.Players.LocalPlayer.TeamColor.Name~="Pastel green"then CustomTeam("Pastel green")end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local P={}for w,Q in pairs(game:GetService("Players"):GetPlayers())do if Q~=game:GetService("Players").LocalPlayer then if Q.Team==game.Teams.Guards then local R=table.find(WhiteListedPlayers,Q.Name)if R==nil then for f=1,15 do P[#P+1]={Hit=Q.Character:FindFirstChild("Head")or Q.Character:FindFirstChildOfClass("Part"),RayObject=Ray.new(Vector3.new(),Vector3.new()),Distance=0,Cframe=CFrame.new()}end end end end end;game:GetService("Workspace").Remote.ItemHandler:InvokeServer(game:GetService("Workspace").Prison_ITEMS.giver["Remington 870"].ITEMPICKUP)local S=game:GetService("Players").LocalPlayer.Character:FindFirstChild("Remington 870")or game:GetService("Players").LocalPlayer:FindFirstChild("Backpack"):FindFirstChild("Remington 870")coroutine.wrap(function()for f=1,30 do game:GetService("ReplicatedStorage").ReloadEvent:FireServer(S)wait(.5)end end)()game:GetService("Workspace").Remote.TeamEvent:FireServer("Medium stone grey")game:GetService("ReplicatedStorage").ShootEvent:FireServer(P,S)wait(.1)if A=="crim"then crim()elseif A~="Custom"then workspace.Remote.TeamEvent:FireServer(A)end end)end;function NotFound()Chat("Player not found.")end;Prefix="!"local function T(U)return Arg1==Prefix..U end;local V=i.Character["Head"]local W=i.Character["Torso"]function Chatted(g)if unloaded==false then local X=string.lower(g)Split=X:split(" ")Arg1=Split[1]Arg2=Split[2]Arg3=Split[3]Arg4=Split[4]if T("goto")then local Y=FindPlayer(Arg2)if Y~=nil then bring(h,game.Players[Y].Character.Torso.CFrame+Vector3.new(0,2.5,0))else NotFound()end end;if T("crim")then if Arg2=="me"then makecrim(h)else local Y=FindPlayer(Arg2)if Y~=nil then makecrim(Y)else NotFound()end end end;if T("cmds")then Chat("!bring [player],!void [player],!kill [player],!goto [player],!crim [player]")wait(.1)Chat("!re -refreshes you, !k -gives you a keycard,!prison [PLAYER] or me,!yard [PLAYER] or me")end;if T("yard")then if Arg2=="me"then bring(h,CFrame.new(816.24053955078,97.999946594238,2461.1025390625))else local Y=FindPlayer(Arg2)if Y~=nil then bring(Y,CFrame.new(816.24053955078,97.999946594238,2461.1025390625))else NotFound()end end end;if T("prison")then if Arg2=="me"then bring(h,CFrame.new(914.46691894531,99.98998260498,2381.701171875))else local Y=FindPlayer(Arg2)if Y~=nil then bring(Y,CFrame.new(914.46691894531,99.98998260498,2381.701171875))else NotFound()end end end;if T("re")then pcall(function()wait(.04)local Z=game.Players[h].Character.Torso.CFrame;kill(h)repeat wait()until i.Character["Humanoid"].Health<2;wait(.7)repeat wait()until game.Players[h].Character:WaitForChild("Humanoid").Health>1 and i.Character~=nil;wait(.3)bring(h,Z)end)end;if T("k")then Chat("Getting a keycard...")local _=0;for f,g in pairs(game.Teams.Guards:GetPlayers())do if g.Name~=game.Players.LocalPlayer.Name then _=_+1 end end;if _<8 then local a0=0;local A=x()local a1=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;repeat if game.Players.LocalPlayer.Team~=game.Teams.Guards then workspace.Remote.TeamEvent:FireServer("Bright blue")end;spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)wait(0.08)NormalRe()a0=a0+1 until workspace.Prison_ITEMS.single:FindFirstChild("Key card")or a0>34;game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=a1;if A=="crim"then crim()elseif A~="Custom"then workspace.Remote.TeamEvent:FireServer(A)end;local a2=game.Workspace.Remote['ItemHandler']local a3={[1]=workspace.Prison_ITEMS.single["Key card"].ITEMPICKUP}a2:InvokeServer(unpack(a3))wait(.1)bring(h,game.Players[h].Character.Torso.CFrame,"keycard")else X("Guards team full.")end end;if T("bring")then local Y=FindPlayer(Arg2)if Y~=nil then bring(Y,game.Players[h].Character.Torso.CFrame+Vector3.new(0,2.5,0))else NotFound()end end;if T("void")then if Arg2=="me"then bring(h,CFrame.new(999999,99999999999,9999999))else local Y=FindPlayer(Arg2)if Y~=nil then bring(Y,CFrame.new(999999,99999999999,9999999))else NotFound()end end end;if T("kill")then if Arg2=="me"then kill(h)else if Arg2=="all"then if b==false then killall()end else if Arg2=="cops"then killcops()else local Y=FindPlayer(Arg2)if Y~=nil then kill(Y)else NotFound()end end end end end end end;i.Chatted:Connect(Chatted)wait()Chat("You have been admined say !cmds for commands admin will be removed when i leave.")game.Players.LocalPlayer.Chatted:Connect(function(a4)if a4=="!unadmin players"then unloaded=true end;if a4=="!disable killall"then b=true end;if a4=="!enable killall"then b=false end end)end;return Addadmin
