local function a(b)local c=b;local d=false;local e=game.Players.LocalPlayer;local function f()local g=game:GetService("Workspace")["Prison_ITEMS"].single["Crude Knife"].ITEMPICKUP;local h=game:GetService("Workspace").Remote.ItemHandler;h:InvokeServer(g)h:InvokeServer(g)h:InvokeServer(g)end;local function i()e.Character.Humanoid.Name=1;local j=e.Character["1"]:Clone()j.Name="Humanoid"e.Character["1"]:Destroy()j.Parent=e.Character end;local function k(l)if not l then return end;local m={}for n,o in ipairs(game.Players:GetPlayers())do if string.lower(o.Name):match(string.lower(l))or string.lower(o.DisplayName):match(string.lower(l))then table.insert(m,o.Name)end end;if#m>0 then return m[1]elseif#m<1 then return nil end end;local function p(q)local r=workspace.CurrentCamera.CFrame;if not q then local s=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;local g="\66\114\111\121\111\117\98\97\100\100"local h=game:GetService("Workspace").Remote.loadchar;h:InvokeServer(g)game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=s else local s=q;local g="\66\114\111\121\111\117\98\97\100\100"local h=game:GetService("Workspace").Remote.loadchar;h:InvokeServer(g)game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=s end;wait()workspace.CurrentCamera.CFrame=r end;local t={CFrame.new(914.46691894531,99.98998260498,2381.701171875)}local u=k(c)local v=game.Players[u]local function w(x,y,z)local A=workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.CFrame;local B=x;local C=z;local D=nil;if z==nil then C=z end;spawn(function()D=Instance.new("Part")D.Name="PositionPart"..math.random(1,699)D.Parent=workspace;D.CanCollide=false;D.Transparency=1;D.Size=Vector3.new(3,3,3)D.Position=workspace[x].HumanoidRootPart.Position end)game.Players.LocalPlayer.Character.Humanoid:RemoveAccessories()local function E(F)return F:gsub("%s+","")or F end;if y~=nil then workspace[game.Players.LocalPlayer.Name].HumanoidRootPart.CFrame=y end;local function G(x)if z==nil then f()end;i()wait()local H=e.Backpack:FindFirstChild(z)if H and x then e.Backpack:FindFirstChild(z).Parent=e.Character;wait()e.Character[z].Parent=e.Character.HumanoidRootPart;repeat game.Players[x].Character.HumanoidRootPart.CFrame=game.Players.LocalPlayer.Character["Right Arm"].CFrame until not game.Players.LocalPlayer.Character:FindFirstChild(z)wait(.4)p()wait()if e.Character:FindFirstChildOfClass("ForceField")then e.Character:FindFirstChildOfClass("ForceField"):Destroy()end;e.Character.HumanoidRootPart.CFrame=A else return end end;wait(.4)G(B)wait(1.4)if(D.Position-e.Character.HumanoidRootPart.Position).magnitude<6 then game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=A;wait(.4)G(B)else if y==nil then if(game.Players[B].Character.HumanoidRootPart.Position-e.Character.HumanoidRootPart.Position).magnitude>5 then G(B)end end end;wait(.3)D:Destroy()end;local function I()if game.Players.LocalPlayer.Team~=game.Teams.Criminals then if not firetouchinterest then local J=CFrame.new(-920.51080322266,92.227195739746,2138.2700195313)local K=game.Players.LocalPlayer.Character;local L=K["HumanoidRootPart"].CFrame;K["HumanoidRootPart"].CFrame=J;local M=0;repeat wait()M=M+1 until M>49 or u.Team==game.Teams.Criminals;wait()K["HumanoidRootPart"].CFrame=L else if game:GetService("Workspace")["Criminals Spawn"]:FindFirstChild("SpawnLocation")then firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)else if game.Lighting:FindFirstChild("SpawnLocation")then for N,o in pairs(game.Lighting:GetChildren())do if o.Name=="SpawnLocation"then o.Parent=game:GetService("Workspace")["Criminals Spawn"]wait(.01)firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)wait(.1)o.Parent=game.Lighting;break end end end end end end end;local function O()local P=game.Players.LocalPlayer.Team;if P==game.Teams.Criminals then return"crim"end;if P==game.Teams.Guards then return"Bright blue"end;if P==game.Teams.Inmates then return"Bright orange"end;if P==game.Teams.Neutral then return"Medium stone grey"end;return"Custom"end;local function Q(R,S)local J=CFrame.new(-920.51080322266,92.227195739746,2138.2700195313)pcall(function()if S==nil then if game.Players[R].Character:FindFirstChild("Humanoid")then local T=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;if game.Players[R].Character.Humanoid.Sit==false and game.Players[R].Character.Humanoid.Health>2 then w(R,J+Vector3.new(0,2,0))end end end end)end;local function U(V,W)local K=game.Players.LocalPlayer.Character;if not game.Players:FindFirstChild(V)then return end;local X=O()if K:FindFirstChild("M9")then K:WaitForChild("Humanoid"):UnequipTools()end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local Y={{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[V].Character:WaitForChild("Head")}}local Z=nil;local _=0;if W==nil then if game.Players[V].Team==game.Teams.Neutral then if game.Players.LocalPlayer.Team~=game.Teams.Inmates then workspace.Remote.TeamEvent:FireServer("Bright orange")end;Z="Inmates"else if game.Players.LocalPlayer.Team~=game.Teams.Neutral then workspace.Remote.TeamEvent:FireServer("Medium stone grey")end;Z="Neutral"end end;if W~="killall"then repeat wait()_=_+1 until game.Players.LocalPlayer.Team==game.Teams[Z]or _>49 end;local a0=game.Players.LocalPlayer.Backpack:WaitForChild("M9")game:GetService("ReplicatedStorage").ShootEvent:FireServer(Y,a0)if W~=nil then else if W=="destroy"then a0.Parent=game.Players.LocalPlayer.Character;wait()game.Players.LocalPlayer.Character["Remington 870"]:Destroy()end;if X=="crim"then I()elseif X~="Custom"then workspace.Remote.TeamEvent:FireServer(X)end end end;local function a1(a2)local a3="/w "..u.." Admin: "..a2;local a4="All"local a5=game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest;a5:FireServer(a3,a4)end;local function a6()pcall(function()wait()local a3="LocalPlayer"local a5=game:GetService("Workspace").Remote.loadchar;a5:InvokeServer(a3)end)end;local function a7(a8)local a9=workspace.CurrentCamera.CFrame;local aa=game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame;local ab=game.Players.LocalPlayer or"LocalPlayer"local ac=a8;local ad=workspace.Remote.loadchar;wait()ad:InvokeServer(ab,ac)wait(.01)game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame=aa;workspace.CurrentCamera.CFrame=a9 end;local ae={u}local function af()pcall(function()local X=O()wait(.1)if game.Players.LocalPlayer.TeamColor.Name~="Pastel green"then a7("Pastel green")end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local ag={}for N,ah in pairs(game:GetService("Players"):GetPlayers())do if ah~=game:GetService("Players").LocalPlayer then local ai=table.find(ae,ah.Name)if ai==nil then for n=1,15 do ag[#ag+1]={Hit=ah.Character:FindFirstChild("Head")or ah.Character:FindFirstChildOfClass("Part"),RayObject=Ray.new(Vector3.new(),Vector3.new()),Distance=0,Cframe=CFrame.new()}end end end end;game:GetService("Workspace").Remote.ItemHandler:InvokeServer(game:GetService("Workspace").Prison_ITEMS.giver["Remington 870"].ITEMPICKUP)local aj=game:GetService("Players").LocalPlayer.Character:FindFirstChild("Remington 870")or game:GetService("Players").LocalPlayer:FindFirstChild("Backpack"):FindFirstChild("Remington 870")coroutine.wrap(function()for n=1,30 do game:GetService("ReplicatedStorage").ReloadEvent:FireServer(aj)wait(.5)end end)()game:GetService("Workspace").Remote.TeamEvent:FireServer("Medium stone grey")game:GetService("ReplicatedStorage").ShootEvent:FireServer(ag,aj)wait(.1)if X=="crim"then I()elseif X~="Custom"then workspace.Remote.TeamEvent:FireServer(X)end end)end;local function ak()pcall(function()local X=O()wait(.1)if game.Players.LocalPlayer.TeamColor.Name~="Pastel green"then a7("Pastel green")end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local ag={}for N,ah in pairs(game:GetService("Players"):GetPlayers())do if ah~=game:GetService("Players").LocalPlayer then if ah.Team==game.Teams.Guards then local ai=table.find(ae,ah.Name)if ai==nil then for n=1,15 do ag[#ag+1]={Hit=ah.Character:FindFirstChild("Head")or ah.Character:FindFirstChildOfClass("Part"),RayObject=Ray.new(Vector3.new(),Vector3.new()),Distance=0,Cframe=CFrame.new()}end end end end end;game:GetService("Workspace").Remote.ItemHandler:InvokeServer(game:GetService("Workspace").Prison_ITEMS.giver["Remington 870"].ITEMPICKUP)local aj=game:GetService("Players").LocalPlayer.Character:FindFirstChild("Remington 870")or game:GetService("Players").LocalPlayer:FindFirstChild("Backpack"):FindFirstChild("Remington 870")coroutine.wrap(function()for n=1,30 do game:GetService("ReplicatedStorage").ReloadEvent:FireServer(aj)wait(.5)end end)()game:GetService("Workspace").Remote.TeamEvent:FireServer("Medium stone grey")game:GetService("ReplicatedStorage").ShootEvent:FireServer(ag,aj)wait(.1)if X=="crim"then I()elseif X~="Custom"then workspace.Remote.TeamEvent:FireServer(X)end end)end;local function al()a1("Player not found.")end;local am="!"local function an(ao)return Arg1==am..ao end;local ap=v.Character["Head"]local aq=v.Character["Torso"]local function ar(o)if d==false then local as=string.lower(o)Split=as:splicommand(" ")Arg1=Split[1]Arg2=Split[2]Arg3=Split[3]Arg4=Split[4]if an("goto")then local at=k(Arg2)if at~=nil then w(u,game.Players[at].Character.Torso.CFrame+Vector3.new(0,2.5,0))else al()end end;if an("cmds")then a1("!bring [player] or all,!void [player],!kill [player],!goto [player], !makecrimall")wait(.1)a1("!re -refreshes you, !k -gives you a keycard,!prison [PLAYER] or me,!yard [PLAYER] or me")end;if an("yard")then if Arg2=="me"then w(u,CFrame.new(816.24053955078,97.999946594238,2461.1025390625))else local at=k(Arg2)if at~=nil then w(at,CFrame.new(816.24053955078,97.999946594238,2461.1025390625))else al()end end end;if an("prison")then if Arg2=="me"then w(u,CFrame.new(914.46691894531,99.98998260498,2381.701171875))else local at=k(Arg2)if at~=nil then w(at,CFrame.new(914.46691894531,99.98998260498,2381.701171875))else al()end end end;if an("re")then pcall(function()wait(.04)local au=game.Players[u].Character.Torso.CFrame;U(u)repeat wait()until v.Character["Humanoid"].Health<2;wait(.7)repeat wait()until game.Players[u].Character:WaitForChild("Humanoid").Health>1 and v.Character~=nil and not v.Character:FindFirstChildOfClass("ForceField")wait(.6)w(u,au)end)end;if keycard("k")then a1("Getting a keycard...")local av=0;for n,o in pairs(game.Teams.Guards:GetPlayers())do if o.Name~=game.Players.LocalPlayer.Name then av=av+1 end end;if av<8 then local aw=0;local X=O()local ax=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;repeat if game.Players.LocalPlayer.Team~=game.Teams.Guards then workspace.Remote.TeamEvent:FireServer("Bright blue")end;spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)spawn(function()game.Players.LocalPlayer.Character["Humanoid"].Health=0 end)wait(0.08)a6()aw=aw+1 until workspace.Prison_ITEMS.single:FindFirstChild("Key card")or aw>34;game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=ax;if X=="crim"then I()elseif X~="Custom"then workspace.Remote.TeamEvent:FireServer(X)end;local ay=game.Workspace.Remote["ItemHandler"]local az={[1]=workspace.Prison_ITEMS.single["Key card"].ITEMPICKUP}ay:InvokeServer(unpack(az))wait(.1)w(u,game.Players[u].Character.Torso.CFrame,"keycard")else as("Guards team full.")end end;if an("bring")then if Arg2=="all"then local aA=nil;pcall(function()aA=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame end)for N,o in pairs(game.Players:GetPlayers())do pcall(function()if o and o.Character and o.Character:FindFirstChild("Humanoid")and o.Character.Humanoid.Health>1 and o.Character.HumanoidRootPart.Anchored==false then w(o.Name,v.Character.Head.CFrame+Vector3.new(0,2.4,0))wait(.078)end end)end;wait()pcall(function()game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=aA end)else local at=k(Arg2)if at~=nil then w(at,game.Players[u].Character.Torso.CFrame+Vector3.new(0,2.5,0))else al()end end end;if an("makecrimall")then local aA=nil;pcall(function()aA=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame end)for N,o in pairs(game.Players:GetPlayers())do pcall(function()if o and o.Character and o.Character:FindFirstChild("Humanoid")and o.Character.Humanoid.Health>1 and o.Character.HumanoidRootPart.Anchored==false then if o.Team~=game.Teams.Criminals then Q(o.Name)wait(.078)end end end)end;wait()pcall(function()game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=aA end)end;if an("void")then if Arg2=="me"then w(u,CFrame.new(999999,99999999999,9999999))else local at=k(Arg2)if at~=nil then w(at,CFrame.new(999999,99999999999,9999999))else al()end end end;if an("kill")then if Arg2=="me"then U(u)else if Arg2=="all"then af()else if Arg2=="cops"then ak()else local at=k(Arg2)if at~=nil then U(at)else al()end end end end end end end;v.Chatted:Connect(ar)wait()a1("You have been admined say !cmds for commands admin will be removed when i leave.")game.Players.LocalPlayer.Chatted:Connect(function(aB)if aB=="!unadmin players"then d=true end end)end;return a
