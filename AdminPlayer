function admin(a)if a and game.Players:FindFirstChild(a.Name)then local b=a.Name;unloaded=false;function FindPlayer(c)if not c then return end;local d={}for e,f in ipairs(game.Players:GetPlayers())do if string.lower(f.Name):match(string.lower(c))or string.lower(f.DisplayName):match(string.lower(c))then table.insert(d,f.Name)end end;if#d>0 then return d[1]elseif#d<1 then return nil end end;local g=0;g=g+1;print(g)local h=game.Players[a]function bring(i,j)local k=j;if j==nil then k=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame end;local l=0;local m=game:GetService("Workspace")["Prison_ITEMS"].single["Crude Knife"].ITEMPICKUP;local n=game:GetService("Workspace").Remote.ItemHandler;n:InvokeServer(m)repeat wait()until game.Players.LocalPlayer.Backpack:FindFirstChild("Crude Knife")local o=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;local i=game.Players[i]game.Players.LocalPlayer.Character.Humanoid.Name=1;local p=game.Players.LocalPlayer.Character["1"]:Clone()p.Parent=game.Players.LocalPlayer.Character;p.Name="Humanoid"wait(.2)game.Players.LocalPlayer.Character["1"]:Destroy()workspace.CurrentCamera.CameraSubject=game.Players.LocalPlayer.Character;game.Players.LocalPlayer.Character.Humanoid.DisplayDistanceType="None"game.Players.LocalPlayer.Character.Humanoid:UnequipTools()local f=game.Players.LocalPlayer.Backpack:FindFirstChildOfClass("Tool")repeat game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=k;l=l+1 until l>5;wait()f.Parent=game.Players.LocalPlayer.Character;f.Parent=game.Players.LocalPlayer.Character.HumanoidRootPart;firetouchinterest(i.Character.HumanoidRootPart,f.Handle,0)firetouchinterest(i.Character.HumanoidRootPart,f.Handle,1)wait(.33)game.Players.LocalPlayer.Character:Remove()wait(.42)workspace.Remote.loadchar:InvokeServer()pcall(function()game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=o end)game.Players.LocalPlayer.CharacterAdded:Wait()end;g=g+1;print(g)function crim()if game.Players.LocalPlayer.Team~=game.Teams.Criminals then if not firetouchinterest then local q=CFrame.new(-920.51080322266,92.227195739746,2138.2700195313)local r=game.Players.LocalPlayer.Character;local s=r["HumanoidRootPart"].CFrame;r["HumanoidRootPart"].CFrame=q;local t=0;repeat wait()t=t+1 until t>49 or a.Team==game.Teams.Criminals;wait()r["HumanoidRootPart"].CFrame=s else if game:GetService("Workspace")["Criminals Spawn"]:FindFirstChild("SpawnLocation")then firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)else if game.Lighting:FindFirstChild("SpawnLocation")then for u,f in pairs(game.Lighting:GetChildren())do if f.Name=="SpawnLocation"then f.Parent=game:GetService("Workspace")["Criminals Spawn"]wait(.01)firetouchinterest(game.Players.LocalPlayer.Character.Head,game:GetService("Workspace")["Criminals Spawn"].SpawnLocation,0)wait(.1)f.Parent=game.Lighting;break end end end end end end end;local function v()local w=game.Players.LocalPlayer.Team;if w==game.Teams.Criminals then return"crim"end;if w==game.Teams.Guards then return"Bright blue"end;if w==game.Teams.Inmates then return"Bright orange"end;if w==game.Teams.Neutral then return"Medium stone grey"end;return"Custom"end;g=g+1;print(g)function kill(i,x)local r=game.Players.LocalPlayer.Character;if not game.Players:FindFirstChild(i)then return end;local y=v()if r:FindFirstChild("M9")then r:WaitForChild("Humanoid"):UnequipTools()end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local z={{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")},{["RayObject"]=Ray.new(Vector3.new(0,0,0),Vector3.new(0,0,0)),["Distance"]=0,["Cframe"]=CFrame.new(0,0,0,0,0,0,0,0,0,0,0,0),["Hit"]=game.Players[i].Character:WaitForChild("Head")}}local A=nil;local B=0;if x==nil then if game.Players[i].Team==game.Teams.Neutral then if game.Players.LocalPlayer.Team~=game.Teams.Inmates then workspace.Remote.TeamEvent:FireServer("Bright orange")end;A="Inmates"else if game.Players.LocalPlayer.Team~=game.Teams.Neutral then workspace.Remote.TeamEvent:FireServer("Medium stone grey")end;A="Neutral"end end;if x~="killall"then repeat wait()B=B+1 until game.Players.LocalPlayer.Team==game.Teams[A]or B>49 end;local C=game.Players.LocalPlayer.Backpack:WaitForChild("M9")game:GetService("ReplicatedStorage").ShootEvent:FireServer(z,C)if x~=nil then else if x=="destroy"then C.Parent=game.Players.LocalPlayer.Character;wait()game.Players.LocalPlayer.Character["Remington 870"]:Destroy()end;if y=="crim"then crim()elseif y~="Custom"then workspace.Remote.TeamEvent:FireServer(y)end end end;g=g+1;print(g)function Chat(D)local E="/w "..a.." Admin: "..D;local F="All"local G=game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest;G:FireServer(E,F)end;function NormalRe()pcall(function()wait()local E="LocalPlayer"local G=game:GetService("Workspace").Remote.loadchar;G:InvokeServer(E)end)end;function CustomTeam(H)local I=workspace.CurrentCamera.CFrame;local J=game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame;local K=game.Players.LocalPlayer or"LocalPlayer"local L=H;local M=workspace.Remote.loadchar;wait()M:InvokeServer(K,L)wait(.01)game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame=J;workspace.CurrentCamera.CFrame=I end;WhiteListedPlayers={a}g=g+1;print(g)function killall()pcall(function()local y=v()wait(.1)if game.Players.LocalPlayer.TeamColor.Name~="Pastel green"then CustomTeam("Pastel green")end;if not game.Players.LocalPlayer.Backpack:FindFirstChild("M9")then workspace.Remote.ItemHandler:InvokeServer(workspace.Prison_ITEMS.giver["M9"].ITEMPICKUP)end;local N={}for u,O in pairs(game:GetService("Players"):GetPlayers())do if O~=game:GetService("Players").LocalPlayer then local P=table.find(WhiteListedPlayers,O.Name)if P==nil then for e=1,15 do N[#N+1]={Hit=O.Character:FindFirstChild("Head")or O.Character:FindFirstChildOfClass("Part"),RayObject=Ray.new(Vector3.new(),Vector3.new()),Distance=0,Cframe=CFrame.new()}end end end end;game:GetService("Workspace").Remote.ItemHandler:InvokeServer(game:GetService("Workspace").Prison_ITEMS.giver["Remington 870"].ITEMPICKUP)local Q=game:GetService("Players").LocalPlayer.Character:FindFirstChild("Remington 870")or game:GetService("Players").LocalPlayer:FindFirstChild("Backpack"):FindFirstChild("Remington 870")coroutine.wrap(function()for e=1,30 do game:GetService("ReplicatedStorage").ReloadEvent:FireServer(Q)wait(.5)end end)()game:GetService("Workspace").Remote.TeamEvent:FireServer("Medium stone grey")game:GetService("ReplicatedStorage").ShootEvent:FireServer(N,Q)wait(.1)if y=="crim"then crim()elseif y~="Custom"then workspace.Remote.TeamEvent:FireServer(y)end end)end;g=g+1;print(g)function NotFound()Chat("Admin: Player not found.")end;Prefix="!"local R={Prefix.."bring [player] or all -brings player",Prefix.."void [player] -voids player",Prefix.."kill [player] -kills player",Prefix.."goto [player] -teleports you to player",Prefix.."key -gives you a keycard",Prefix.."re -refreshes you"}local function S(T)return Arg1==Prefix..T end;local U=h.Character["Head"]local V=h.Character["Torso"]function Chatted(f)if unloaded==false then local W=string.lower(f)Split=W:split(" ")Arg1=Split[1]Arg2=Split[2]Arg3=Split[3]Arg4=Split[4]if S("goto")then local X=FindPlayer(Arg2)if X~=nil then bring(a,game.Players[X].Character.Torso.CFrame+Vector3.new(0,2.5,0))else NotFound()end end;if S("cmds")then for u,f in pairs(R)do Chat(f)wait(.4)end end;if S("re")then wait()local Y=game.Players[a].Character.Torso.CFrame;kill(a)repeat wait()until game.Players[a].Character["Humanoid"].Health<1;wait(.2)repeat wait()until game.Players[a].Character:WaitForChild("Humanoid").Health>1 and h.Character~=nil;wait(.1)bring(a,Y)end;if S("key")then Chat("Getting a key...")local Z=0;for e,f in pairs(game.Teams.Guards:GetPlayers())do if f.Name~=game.Players.LocalPlayer.Name then Z=Z+1 end end;if Z<8 then local _=0;local y=v()local a0=game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame;repeat if game.Players.LocalPlayer.Team~=game.Teams.Guards then workspace.Remote.TeamEvent:FireServer("Bright blue")end;game.Players.LocalPlayer.Character["Humanoid"].Health=0;game.Players.LocalPlayer.Character["Humanoid"].Health=0;game.Players.LocalPlayer.Character["Humanoid"].Health=0;wait(0.08)NormalRe()_=_+1 until workspace.Prison_ITEMS.single:FindFirstChild("Key card")or _>34;game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame=a0;if y=="crim"then crim()elseif y~="Custom"then workspace.Remote.TeamEvent:FireServer(y)end;local a1=game.Workspace.Remote['ItemHandler']local a2={[1]=workspace.Prison_ITEMS.single["Key card"].ITEMPICKUP}a1:InvokeServer(unpack(a2))wait(.1)bring(a,game.Players[a].Character.Torso.CFrame,"keycard")else W("Guards team full.")end end;if S("bring")then local X=FindPlayer(Arg2)if X~=nil then bring(X,game.Players[a].Character.Torso.CFrame+Vector3.new(0,2.5,0))else NotFound()end end;if S("void")then local X=FindPlayer(Arg2)if X~=nil then bring(X,CFrame.new(999999,99999999999,9999999))else NotFound()end end;if S("kill")then if Arg2=="all"then killall()else local X=FindPlayer(Arg2)if X~=nil then kill(X)else NotFound()end end end end end;h.Chatted:Connect(Chatted)wait()Chat("You have been admined say !cmds for commands admin will be removed when i leave.")game.Players.LocalPlayer.Chatted:Connect(function(a3)if a3=="!unadmin players"then unloaded=true end end)g=g+1;print(g)end end;return admin
